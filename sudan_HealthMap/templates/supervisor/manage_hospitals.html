{% extends 'base.html' %}

{% block title %}Manage Hospitals{% endblock %}

{% load static %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/supervisor/manage_hospitals.css' %}">
{% endblock %}

{% block content %}
{% include 'navbar.html' %}
<div class="container">
    <h1>Manage Hospitals</h1>

    <!-- Add Hospital Form -->
    <div class="form-container">
        <h2>Add Hospital</h2>
        <form id="add-hospital-form" onsubmit="addHospital(event)">
            <input type="text" id="name" placeholder="Hospital Name" autocomplete="organization" required>
            <br>
            <select id="state" required>
                <option value="" disabled selected>Select State</option>
            </select>
            <br>
            <input type="email" id="email" placeholder="Email" autocomplete="email" required>
            <br>
            <input type="password" id="password" placeholder="Password" autocomplete="new-password" required>
            <br>
            <button type="submit" id="add-hospital-btn">Add Hospital</button>
            <button type="button" id="update-hospital-btn" style="display: none;">Update Hospital</button>
        </form>
    </div>

    <hr>

    <!-- Search and Hospital List -->
    <div class="list-container">
        <h2>Hospital List</h2>
        <form id="search-form" onsubmit="searchHospitals(event)">
            <input type="text" id="search-query" placeholder="Search hospitals by name or state">
            <button type="submit">Search</button>
        </form>
        <table>
            <thead>
                <tr>
                    <th>Hospital Name</th>
                    <th>State</th>
                    <th>Email</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="hospital-table-body">
                <!-- Rows will be dynamically inserted here -->
            </tbody>
        </table>
        
    </div>
</div>
{% endblock %}

{% block scripts %}
    {% load static %}
    <script>const API_TOKEN = "{{ token }}"; </script>
    <script src="{% static 'js/supervisor/any.js' %}" defer></script>
{% endblock %}
