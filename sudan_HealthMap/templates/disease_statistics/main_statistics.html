{% load static %}

{% block title %}
Disease Statistics
{% endblock %}

{% block content %}
<div class="container">
<h1 style="text-align: center;">Sudan Disease Statistics</h1>
<br>
<h2>Most Common Diseases</h2>
<div class="table-container">
    <p class="summary-text">This table provides a concise summary of the diseases alongside the number of reported cases, helping to identify trends and prioritize healthcare interventions.</p>
    <table id="common-diseases-table">
        <thead>
            <tr>
                <th>Disease</th>
                <th>Cases</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

<br>

<h2>Disease Distribution</h2>
<p class="summary-text">A visual representation of how various diseases are spreading across the population.</p>
<div>
    <canvas id="diseaseDonutChart"></canvas>
</div>

<br>
<br>

<h2>Filter Disease Data</h2>
<p class="summary-text">Explore detailed information about specific diseases. helps in understanding the demographics and distribution of diseases.</p>
<div id="disease-filter-section" style="margin-top: 20px;">
    <label for="disease-dropdown" style="font-weight: bold;">Select Disease:</label>
    <select id="disease-dropdown" style="padding: 5px; font-size: 16px;">
        <option value="" disabled selected>--Select Disease--</option>
    </select>
    
    <label for="filter-category" style="font-weight: bold; margin-left: 10px;">Filter By:</label>
    <select id="filter-category" style="padding: 5px; font-size: 16px;">
        <option value="" disabled selected>--Select Filter Category--</option>
        <option value="age">Age</option>
        <option value="sex">Sex</option>
        <option value="season">Season</option>
        <option value="blood_type">Blood Type</option>
        <option value="main_symptom">Main Symptom</option>
    </select>
    
    <button id="filter-button" style="margin-left: 10px; padding: 5px 10px; font-size: 16px;" aria-label="Filter and show results" title="Filter and show results">
        Show Results
    </button>
</div>

<div id="loading-indicator" style="display: none; text-align: center; margin-top: 20px;">
    <p>Loading data, please wait...</p>
</div>

<br>



<div>
    <canvas id="filteredDataChart" style="margin-top: 20px;"></canvas>
</div>

<br>
<hr>

<h2>State-Level Disease Statistics</h2>

<p class="summary-text">This section provides an overview of disease trends across different states. By selecting a state, you can access detailed statistics on diseases, including total reported cases and deaths.</p>

<div style="margin-bottom: 20px;">
    <label for="state-dropdown" style="font-weight: bold;">Select a State:</label>
    <select id="state-dropdown" style="padding: 5px; font-size: 16px;">
        <option value="">--Select State--</option>
    </select>
</div>
<div class="table-container">
<table id="state-disease-stats-table">
    <thead>
        <tr>
            <th>Disease</th>
            <th>Total Cases</th>
            <th>Total Deaths</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>
</div>

<br>

<h2>State-Wise Disease Distribution Chart</h2>
<p class="summary-text">A visual representation to  represents the prevalence of a selected disease across various states. By analyzing this chart, you can quickly identify regions with higher case counts, enabling targeted public health strategies and resource allocation.</p>

<div style="margin-top: 20px;">
    <label for="disease-pie-dropdown" style="font-weight: bold;">Select Disease:</label>
    <select id="disease-pie-dropdown" style="padding: 5px; font-size: 16px;">
        <option value="" disabled selected>--Select Disease--</option>
    </select>
</div>

<div>
    <canvas id="diseasePieChart" style="margin-top: 20px; max-width: 800px; max-height: 500px; margin: 0 auto;"></canvas>
</div>

</div>

<link rel="stylesheet" href="{% static 'css/disease_statistics/main_statistics.css' %}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script src="{% static 'js/disease_statistics/main_statistics.js' %}"></script>
{% endblock %}
